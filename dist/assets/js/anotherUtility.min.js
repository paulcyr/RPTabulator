/*! AnotherUtility - v1.0.0 - 2016-09-02
 * https://github.com/thisispaulcyr/AnotherUtility
 * Paul Cyr <web@thisispaul.ca> (http://thisispaul.ca)
 * License: MIT */
"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return call&&("object"==typeof call||"function"==typeof call)?call:self}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}define(["jquery"],function(b){var c={};return c.ArgumentError=function(_Error){function _class(f,g,h,j){_classCallCheck(this,_class);var _this=_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).call(this));return _this.name="ArgumentError",_this.stack=new Error().stack,_this.message=c.validator.isNotEmptyString(g)?c.validator.isNotEmptyString(h)?c.validator.isNotEmptyString(j)?"Invalid argument given for parameter '"+g+"' for method '"+h+"' for instance of '"+j+"'. Value given: "+f:"Invalid argument given for parameter '"+g+"' for function '"+h+"'. Value given: "+f:"Invalid argument given for parameter '"+g+"'. Value given: "+f:"Function argument error. Invalid argument value: "+f,_this}return _inherits(_class,_Error),_class}(Error),c.ErrorMessage=function(){function _class2(f,g){if(_classCallCheck(this,_class2),!c.validator.isString(f))throw new c.ArgumentError(f,"message","constructor",Object.getPrototypeOf(this).constructor.name);if(-1===["object","undefined"].indexOf("undefined"==typeof g?"undefined":_typeof(g)))throw new c.ArgumentError(g,"options","constructor",Object.getPrototypeOf(this).constructor.name);this.message="<p class=\"message\">"+f+"</p>";var h=document.createElement("div");return h.classList.add("alert"),h.setAttribute("role","alert"),g?(g.type&&c.validator.isNotEmptyString(g.type)&&h.classList.add("alert-"+g.type),g.details&&c.validator.isString(g.details)&&(g.detailsContainerType&&c.validator.isNotEmptyString(g.detailsContainerType)?this.message+="<"+g.detailsContainerType+" class=\"details\">"+g.details+"</"+g.detailsContainerType+">":this.message+="<p class=\"details\">"+g.details+"</p>"),g.code&&c.validator.isString(g.code)&&(this.message+="<p class=\"code\">"+g.code+"</p>")):h.classList.add("alert-info"),h.innerHTML=this.message,h}return _class2}(),c.ExecTimer=function(){function _class3(f,g,h,j){if(_classCallCheck(this,_class3),"object"!=("undefined"==typeof f?"undefined":_typeof(f)))throw new Error("Invalid context provided for ExecTimer");if(this.context=f,"function"==typeof g)"object"==("undefined"==typeof h?"undefined":_typeof(h))&&(this.args=h),this.fn=g,this.delay=null;else if("number"==typeof g&&"function"==typeof h)"object"==("undefined"==typeof j?"undefined":_typeof(j))&&(this.args=j),this.fn=h,this.delay=g;else throw new Error("Invalid arguments provided for ExecTimer");this.delay=this.delay||b.fx.interval,this.triggered=!1}return _createClass(_class3,[{key:"exec",value:function exec(){this.triggered||(this.triggered=!0,setTimeout(function(){this.fn.call(this.context,args),this.triggered=!1},this.delay))}}]),_class3}(),c.Form=function(){function _class4(f,g){var _this2=this;if(_classCallCheck(this,_class4),-1===["object","undefined"].indexOf("undefined"==typeof f?"undefined":_typeof(f)))throw new c.ArgumentError(f,"inputs","constructor",Object.getPrototypeOf(this).constructor.name);if(-1===["object","undefined"].indexOf("undefined"==typeof g?"undefined":_typeof(g)))throw new c.ArgumentError(g,"options","constructor",Object.getPrototypeOf(this).constructor.name);this.inputs="object"==("undefined"==typeof f?"undefined":_typeof(f))?f:{},this.options="object"==("undefined"==typeof g?"undefined":_typeof(g))?g:{},this.formContentTypes=["input","select","textarea","button","legend","progress","meter","output"],this.labelable=["input","select","textarea","progress","meter","output"];var h={messages:{form:{submitButton:"Submit",sending:"Sending...",sent:"Message sent."},error:{general:"Please contact me at <a href=\"mailto:web@thisispaul.ca\" target=\"_blank\">web@thisispaul.ca</a>.",unknown:"An unknown error occurred. It probably doesn't have anything to do with your submission and is likely just a technical issue.",authentication:{general:"The username or password is incorrect."},form:{captchaInvalid:"Please complete the captcha before submitting. It's the \"I'm not a robot\" box just above the Submit button",db:{connection:"There was a internal technical error. It probably doesn't have anything to do with your submission.",insert:"There was a internal technical error. It probably doesn't have anything to do with your submission."},email:"There was a internal technical error. It probably doesn't have anything to do with your submission.",type:{notProvided:"There was an error with the form information that was submitted by your internet browser.",notRecognized:"There was an error with the form information that was submitted by your internet browser."}},validation:{general:"There was an error with some of the information you entered. Please re-check your entries and try again.</p><p style=\"font-size:small;\">If you still receive this message after re-checking what you entered, please contact me at <a href=\"mailto:web@thisispaul.ca\" target=\"_blank\">web@thisispaul.ca</a></p>",fields:{"name-first":"Enter your first name.","name-last":"Enter your last name.","street-address":"Enter a valid street address or leave blank.",city:"Enter a valid city name or leave blank.",pcode:"Enter a valid postal / ZIP code or leave blank.",email:"Enter your email address.",tel:"Enter a valid telephone number or leave blank.",subject:"Enter a message subject.",message:"Enter a message."}}}},validate:!0,handleSubmit:!1,attrs:{id:"form-"+(4294967295*Math.random()<<0).toString(16),method:"post"}},j=function j(){b(_this2.form).validate({errorClass:"has-error",validClass:"",highlight:function highlight(k,l,m){b(k).attr("aria-invalid","true"),b(k).parent(".form-group").addClass(l).removeClass(m)},unhighlight:function unhighlight(k,l,m){b(k).attr("aria-invalid","false"),b(k).parent(".form-group").addClass(m).removeClass(l)},errorPlacement:function errorPlacement(k,l){l.parent(".form-group").hasClass("has-error")&&(k.hide(),k.addClass("help-block"),k.insertAfter(b(l).siblings(".control-label").first()),k.slideDown("fast"))},success:function success(k){k.slideUp("fast",function(){b(this).remove()})},messages:_this2.options.messages.error.validation.fields,submitHandler:_this2.submit})};// Load defaults for any unspecified options.
// Form validation
if(this.options=b.extend(!0,h,this.options),this.id=this.options.attrs.id,!0==this.options.validate)if("function"!=typeof b.fn.validate)throw new Error("Unable to load jquery.validate");else j();"function"==typeof g.submitHandler&&submitHandler(g.submitHandler)}return _createClass(_class4,[{key:"setSubmitHandler",value:function setSubmitHandler(f){var _this3=this;"function"==typeof f?(this.submitHander=f,b("body").on("submit."+this.options.attrs.id,"#"+this.options.attrs.id,function(g){g.preventDefault(),b(".errorMessage","#"+_this3.options.attrs.id).remove(),b(".has-warning, .has-error, .has-success","#"+_this3.options.attrs.id).removeClass("has-warning, has-error, has-success"),b(_this3.formContentTypes.join(", "),"#"+_this3.options.attrs.id).attr("disabled",!0),b("body").on("formComplete."+_this3.options.attrs.id,"#"+_this3.options.attrs.id,function(h){b(_this3.formContentTypes.join(", "),"#"+_this3.options.attrs.id).attr("disabled",!1)}),_this3.submitHander(g)})):(this.submitHandler=void 0,b("body").off("submit."+this.attrs.options.id))}},{key:"showError",value:function showError(f,g){var _this4=this;if(c.validator.isNotEmptyString(f)){var h=b("#"+this.options.attrs.id+" [name=\""+f+"\"]"),_j=document.createElement("div");_j.classList.add("errorMessage"),g.inputClass&&h.addClass(g.class),g.messageClass&&b(_j).addClass(g.messageClass),_j.innerHTML=g.message,b(_j).hide().insertAfter(h).css("max-width",b("#"+this.id).width()).slideDown()}else if(c.validator.isNotEmptyArray(f))f.forEach(function(h){_this4.showError(h.name,h.error)});else throw new c.ArgumentError(f,"name","showError",Object.getPrototypeOf(this).constructor.name)}},{key:"form",get:function get(){var _this5=this,f=document.createElement("form"),g=b.extend({},this.options.attrs);b(f).attr(g);var h=function h(n,o){var p=[];// Optional label
// Optional wrapper
if(-1!==_this5.labelable.indexOf(o.type)&&"hidden"!==o.type&&(!0==o.required||c.validator.isNotEmptyObject(o.label)||c.validator.isNotEmptyString(o.label))&&("string"==typeof o.label&&(o.label={content:o.label}),o.required&&(o.label=o.label||{},o.label.required=!0),p.push(k(n.labels,o.label))),n.items=n.items||{},p.push(l(n.items,o)),-1!==_this5.labelable.indexOf(o.type)&&(c.validator.isNotEmptyObject(n.wrapInputs)||c.validator.isNotEmptyObject(o.wrap))){n.wrapInputs=n.wrapInputs||{},o.wrap=o.wrap||{};var q=j(n.wrapInputs,o.wrap);p=b(q).append(p)}return p},j=function j(n,o){var p={};(c.validator.isNotEmptyString(n.class)||c.validator.isNotEmptyString(o.class))&&(p.class="",c.validator.isNotEmptyString(n.class)&&(p.class+=n.class),c.validator.isNotEmptyString(o.class)&&(p.class+=" "+o.class)),(c.validator.isNotEmptyString(n.element)||c.validator.isNotEmptyString(o.element))&&(p.element=c.validator.isNotEmptyString(o.element)?o.element:n.element);var q=c.validator.isNotEmptyString(p.element)?document.createElement(p.element):document.createElement("div");return p.class&&b(q).addClass(p.class),q},k=function k(n,o){var p=document.createElement("label");if(n=n||{},!0==o.required||c.validator.isNotEmptyString(n.class)||c.validator.isNotEmptyString(o.class)){var q="";c.validator.isNotEmptyString(n.class)&&(q+=n.class),c.validator.isNotEmptyString(o.class)&&(q+=" "+o.class),!0==o.required&&(q+=" required"),b(p).addClass(q)}return p.innerHTML=o.content,p},l=function l(n,o){var p=void 0,q=c.validator.isNotEmptyString(o.type)&&-1!==_this5.formContentTypes.indexOf(o.type)?o.type:"input";if(p=document.createElement(q),"input"===q&&b(p).attr("type",o.type),o.readonly&&b(p).attr("aria-readonly",!0),o.required&&b(p).attr("aria-required",!0),c.validator.isNotEmptyString(n.class)||c.validator.isNotEmptyString(o.class)){var t="";c.validator.isNotEmptyString(n.class)&&(t+=n.class),c.validator.isNotEmptyString(o.class)&&(t+=" "+o.class),b(p).addClass(t)}return b.each(o,function(t,u){-1===["class","type","label","wrap","value"].indexOf(t)&&b(p).attr(t,u)}),"select"===q?b(p).append(m(o.items)):"textarea"===q||"legend"===q||"button"===q?o.value&&b(p).text(o.value):o.value&&b(p).attr("value",o.value),p},m=function m(n){var o=[];return b.each(n,function(p,q){var t=void 0;"object"!=("undefined"==typeof q?"undefined":_typeof(q))||c.validator.isArray(q)?(t=document.createElement("option"),b(t).val(q).text(q)):q.optgroup?(t=document.createElement("optgroup"),b.each(q,function(u,w){"optgroup"!==u&&b(t).attr(u,w)}),b(t).append(m(q.optgroup))):(t=document.createElement("option"),t.value=q.value,"content"in q?b(t).text(q.content):b(t).text(q.value)),o.push(t)}),o};return this.hasRequired&&b(f).append("<p class=\"note\"><dfn class=\"required\">*</dfn> indicates a required field.</p>"),this.inputs.forEach(function(n){"fieldset"===n.type?function(){var o=document.createElement("fieldset");c.validator.isNotEmptyString(n.class)&&b(o).addClass(n.class),c.validator.isNotEmptyObject(n.inputs)&&n.inputs.forEach(function(p){b(o).append(h(_this5.options,p))}),f.appendChild(o)}():b(f).append(h(_this5.options,n))}),f}},{key:"hasRequired",get:function get(){function f(g){if(!0==g.required)return!0;var h=Object.keys(g);if(c.validator.isArray(g))return g.some(function(j){return"object"==("undefined"==typeof j?"undefined":_typeof(j))&&f(j)});for(var _j2=0,_k=Object.keys(g);!0&&_j2<_k.length;){var _l=_k[_j2],_m=g[_l];if("required"===_l)return _m;if("object"==("undefined"==typeof _m?"undefined":_typeof(_m)))return f(_m);_j2++}}return!0===f(this.inputs)}}]),_class4}(),c.Menu=function(){function _class5(f,g){_classCallCheck(this,_class5),this.items=c.validator.isNotEmptyArray(f)?f:[],this.settings="object"==("undefined"==typeof g?"undefined":_typeof(g))?g:{}}return _createClass(_class5,[{key:"get",value:function get(f){var _this6=this;"object"==("undefined"==typeof f?"undefined":_typeof(f))&&(this.settings=b.extend(this.settings,f));var g=function g(h,j){var k=document.createElement("ul");return j?b(k).addClass("menu").attr("role","menu"):b(k).addClass("submenu").attr("role","menubar"),h.forEach(function(l,m){var n=document.createElement("li"),o={role:"menuitem"},p=document.createElement("a"),q=void 0;for(var t in l.class||(l.class=""),l.icon&&(l.class+=" icon "+l.icon,!0===_this6.settings.svg&&(l.class+=" svg")),l)-1===["items","href","target","label","icon"].indexOf(t)&&l[t]&&(o[t]=l[t]);;if(o.tabIndex=1,b(n).attr(o),l.href&&(p.href=l.href),l.target&&(p.target=l.target),l.label&&(q=document.createElement("span"),b(q).addClass("label").html(l.label)),l.icon){var _t=b(document.createElement("div")),u=void 0;if(l.alt&&(u=b(document.createElement("span")).addClass("alt").html(l.alt)),l.label){var w=b(document.createElement("div")).addClass("image");l.alt&&w.appendChild(u),b(_t).addClass("label-with-image").append(w,q)}else b(_t).addClass("image"),l.alt&&_t.appendChild(u);p.appendChild(_t)}else l.label&&p.appendChild(q);n.appendChild(p),l.items&&n.appendChild(g(l.items)),k.appendChild(n)}),k};return g(this.items,!0)}}]),_class5}(),c.Records=function(){function _class6(f,g){if(_classCallCheck(this,_class6),-1===["string","number","symbol"].indexOf("undefined"==typeof f?"undefined":_typeof(f))||"symbol"!=("undefined"==typeof f?"undefined":_typeof(f))&&!(0<f.length))throw new c.ArgumentError(f,"type","constructor",Object.getPrototypeOf(this).constructor.name);"undefined"==typeof g||null===g?(this.id=f,this.type="record"):(this.type=f,this.id=g);try{this.records=JSON.parse(localStorage.getItem(this.type+"."+this.id)),("object"!=_typeof(this.records)||null===this.records)&&(this.records={})}catch(h){this.records={}}localStorage.setItem(this.type+"."+this.id,JSON.stringify(this.records))}return _createClass(_class6,[{key:"add",value:function add(f,g,h){if("object"!=("undefined"==typeof f?"undefined":_typeof(f))||!(0<f.length))throw new c.ArgumentError(f,"record","add",Object.getPrototypeOf(this).constructor.name);if(h=!0==h,c.validator.isArray(f))console.log(this.records.length),this.records=h?f:c.validator.isNotEmptyArray(this.records)?c.arrayMergeUnique([this.records,f],g):b.extend(this.records,f);else if(-1===["string","number","symbol"].indexOf(_typeof(f.id))||"symbol"!=_typeof(f.id)&&!(0<f.id.length))throw new Error("Property 'id' for argument 'record' missing or invalid.");else if(this.records.hasOwnProperty(f.id)&&!0!==h)throw new Error("Value for 'id' already exists and argument 'overwrite' not equal to true.");else this.records[f.id]=f.value;// Add record for non-array
// Save to storage
localStorage.setItem(this.type+"."+this.id,JSON.stringify(this.records))}},{key:"get",value:function get(f){return-1===["string","number","symbol"].indexOf("undefined"==typeof f?"undefined":_typeof(f))?this.records:this.records[f]}},{key:"deleteRecord",value:function deleteRecord(f){if(-1===["string","number","symbol"].indexOf("undefined"==typeof f?"undefined":_typeof(f))||"symbol"!=("undefined"==typeof f?"undefined":_typeof(f))&&!(0<f.length))throw new Error("Property 'id' for argument 'record' missing or invalid.");if(c.validator.isArray(this.records)){var g=this.records.indexOf(f);-1!==g&&this.records.splice(g,1)}else delete this.records[f];localStorage.setItem(this.type+"."+this.id,JSON.stringify(this.records))}},{key:"deleteAll",value:function deleteAll(){localStorage.removeItem(this.type+"."+this.id),this.records={}}}]),_class6}(),c.UUIDv4=function(){// Unique ID creation requires a high quality random # generator.	We feature
// detect to determine the best RNG source, normalizing to a function that
// returns 128-bits of randomness, since that's what's usually required
var d=void 0,f=window.crypto||window.msCrypto;// Allow for MSIE11 msCrypto
if(!d&&f&&f.getRandomValues)try{(function(){var h=new Uint8Array(16);d=function d(){return f.getRandomValues(h),h}})()}catch(h){}d||function(){// Math.random()-based (RNG)
//
// If all else fails, use Math.random().	It's fast, but is of unspecified quality.
var h=Array(16);d=function d(){for(var _k3,_j4=0;16>_j4;_j4++)0==(3&_j4)&&(_k3=4294967296*Math.random()),h[_j4]=255&_k3>>>((3&_j4)<<3);return h},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}();var g=d();// Per 4.4, set bits for version and `clock_seq_hi_and_reserved`
return g[6]=64|15&g[6],g[8]=128|63&g[8],// **`unparse()` - Convert UUID byte array (ala parse()) into a string**
function(j){for(var k=[],n=0;256>n;n++)k[n]=(n+256).toString(16).substr(1);// Maps for number <-> hex string conversion
var l=0,m=k;return m[j[l++]]+m[j[l++]]+m[j[l++]]+m[j[l++]]+"-"+m[j[l++]]+m[j[l++]]+"-"+m[j[l++]]+m[j[l++]]+"-"+m[j[l++]]+m[j[l++]]+"-"+m[j[l++]]+m[j[l++]]+m[j[l++]]+m[j[l++]]+m[j[l++]]+m[j[l++]]}(g)},c.browser={},c.browser.name=function(){return(/*@cc_on!@*/1&&!document.documentMode?window.StyleMedia?"Edge":window.chrome?"Chrome":"undefined"==typeof InstallTrigger?window.opr&&opr.addons||window.opera||0<=navigator.userAgent.indexOf(" OPR/")?"Opera":0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")?"Safari":void 0:"Firefox":"MSIE")}(),c.browser.version=function(){switch(c.browser.name){case"Blink":return"[1,undefined)";case"Chrome":return window.CSS?"[28,undefined)":"[1,28)";case"Edge":return"[20,undefined)";case"Firefox":return"[1,undefined)";case"MSIE":return"[6,11]";case"Opera":return window.opr&&opr.addons?"[20,undefined)":"[8,20)";case"Safari":return"[3,undefined)";default:return void 0;}}(),c.OS=function(){var d=window.navigator.userAgent,f="Unknown";return b.each({"Windows NT 10":"Windows 10 / Server 2016","Windows NT 6.3":"Windows 8.1 / Server 2012 R2","Windows NT 6.2":"Windows 8 / Server 2012","Windows NT 6.1":"Windows 7 / Server 2008 R2","Windows NT 6.0":"Windows Vista / Server 2008","Windows NT 5.2":"Windows XP Pro x64 / Windows Server 2003","Windows NT 5.1":"Windows XP","Windows NT 5.0":"Windows 2000 / Server 2000",Mac:"Mac/iOS",X11:"UNIX",Linux:"Linux"},function(g,h){-1!=d.indexOf(g)&&(f=h)}),f}(),c.ajax={init:function init(d,f){if(0===b(d).length)throw new c.ArgumentError(d,"defaultContainer","ajax.init");if(-1===["object","undefined"].indexOf(f))throw new c.ArgumentError(f,"ajaxOptions","ajax.init");f=f||{},"timeout"in f||(f.timeout=7500),"cache"in f||(f.cache=!0),this.defaultContainer=d,b.ajaxSetup(f),b(window).on("popstate",function(){var g=window.location.href;c.isSameTarget(g,c.ajax.prevURL)||c.ajax.loadPage(g)}),function(){b("a").filter(function(){return this.href// ...and it has a URL...
&&!this.href.match(/^.+\.\S{3,4}$/i)// ...but the URL does not include a file extention
// ...and it does not have a "target" attribute or it does and that attribue is "_self", effectively excluding targets such as "_blank"
&&(!b(this).attr("target")||"_self"==b(this).attr("target"))}).off("click.ajax").on("click.ajax",function(h){h.preventDefault(),c.isSameTarget(this.href)?history.pushState(null,document.title,this.href):c.ajax.loadPage(this)})}()},prevURL:function(){return{protocol:window.location.protocol,hostname:window.location.hostname,pathname:window.location.pathname}}(),loadPage:function loadPage(d){function f(){b(window).scrollTop()>o&&b("html, body").scrollTop(o),n=b.ajax({url:m,dataType:"json",cache:!1,headers:{"X-Request-Type":"ajax"},beforeSend:function beforeSend(){j=!0},error:g,success:h,complete:function complete(p,q){j=!1}})}function g(p,q,t){c.loadingAnimation.message(k,"<div class=\"ajax message\">\t\t\t\t<p style=\"font-weight:bold; font-size: 2em; margin-bottom:0.75em;\">:(</p>\t\t\t\t<p>An error occured.</p><p><a class=\"ajax retry\" tabindex=\"0.1\">Retry</a>&emsp;<a class=\"ajax cancel\" tabindex=\"0.2\">Cancel</a></p>\t\t\t\t<p style=\"font-size:small;\">Result: "+t+"</p></div>"),"object"==("undefined"==typeof d?"undefined":_typeof(d))&&b(d).blur(),b(".ajax.cancel",l).click(function(){b(document).off("keydown.anotherUtility.ajax.loadPage"),c.loadingAnimation.remove(k)}),b(".ajax.retry",l).click(function(){b(document).off("keydown.anotherUtility.ajax.loadPage"),b(".ajax.message",k).hide(),c.ajax.loadPage(m)}),b(document).off("keydown.anotherUtility.ajax.loadPage"),b(document).on("keydown.anotherUtility.ajax.loadPage",function(u){switch(u.which){case 13:b(document).off("keydown.anotherUtility.ajax.loadPage"),c.ajax.loadPage(m);break;case 27:b(document).off("keydown.anotherUtility.ajax.loadPage"),c.loadingAnimation.remove(k);}}),b(window).scrollTop()>o&&b("html, body").animate({scrollTop:o},500)}function h(p,q,t){var u=b(document.createElement("div")).addClass("animation-container"),w=b("> .container",k).first(),x=void 0,y=void 0;history.pushState(null,p.title,m),b(window).trigger(window.onNavigate),y=c.currentURL(),b.each(c.ajax.prevURL,function(z,A){c.ajax.prevURL[z]=y[z]}),b("body").height()>window.innerHeight&&b("body").css("overflow-y","scroll"),b("body").width()>window.innerWidth&&b("body").css("overflow-x","scroll"),w.wrapAll(u),x=new MutationObserver(function(){x.disconnect(),w.unwrap(),c.pageLoad(),b("#header .primary a.current-page").focus(),b("#header .primary a.current-page").blur(),b("title").text(p.title),b("body").removeClass().addClass(p.pageClass),b("body").css("overflow-y",""),b("body").css("overflow-x",""),c.loadingAnimation.remove(k,{speed:100},function(){b(window).trigger(window.onAjaxNavigateFinished)})}),x.observe(w[0],{childList:!0,subtree:!0}),u.fadeOut(100,function(){w.html(p.contents)})}var j=void 0,k=void 0,l=void 0,m=void 0,n=void 0,o=0;j&&(n.abort(),c.loadingAnimation.remove(k)),m="string"==typeof d?d:b(d).attr("href"),k="string"==typeof d||0==b(d).parents(this.defaultContainer).length?b(this.defaultContainer):b(d).closest("div").attr("class","container").parent(),l=(".overlay",k).first(),"/"==m[m.length-1]&&(m=m.slice(0,-1)),0==b("> .overlay",k).length?c.loadingAnimation.add(k,{speed:200,classes:"nav"},f):f()}},c.arrayMergeUnique=function(d,f){var g=[];return b.each(d,function(){b.each(this,function(h,j){-1===g.indexOf(j)&&g.push(j)})}),f&&(g=g.sort()),g},c.currentPageClass=function(){b("a").each(function(){c.isSameTarget(this.href)?b(this).addClass("current-page"):b(this).removeClass("current-page")})},c.events=function(){["ajaxNavigateFinished","formComplete","navigate"].forEach(function(d){var f="on"+d.charAt(0).toUpperCase()+d.slice(1);"function"==typeof CustomEvent?window[f]=new CustomEvent(d,{bubbles:!0}):(window[f]=document.createEvent("Event"),window[f].initEvent(d,!0,!1))})}(),c.getURLParam=function(d){var f=window.location.search.substring(1),g=f.split("&"),h=void 0;return g.forEach(function(j,k){var l=g[k].split("=");l[0]==d&&(h=l[1])}),h},c.headerNavPrimary=function(){function d(){(function(){if(window.matchMedia("(min-width: 1024px)").matches||window.matchMedia("print").matches)g.css("min-height")&&g.css("min-height","");else{var _m2=window.innerHeight-g.offset().top;g.css("min-height",_m2+"px")}})(),function(){if(!b("body").hasClass("lightbox-visible")){var _m3=void 0,_n=void 0,_o=b("#header-nav-super").height();if(!(b(window).scrollTop()>=_o))f.removeClass("fixed"),h.css({"padding-top":"","padding-bottom":""});else if(f.addClass("fixed"),!(window.matchMedia("(min-width: 1024px)").matches||window.matchMedia("print").matches))h.css({"padding-top":"","padding-bottom":""});else if(_m3=(_o-b(window).scrollTop())/2,_n=j+_m3,_n<=j){if(_n<Math.ceil(j/2)&&(_n=Math.ceil(j/2)),_n==parseInt(h.css("padding-top")))return;var p=_n+"px";h.css({"padding-top":p,"padding-bottom":p})}b(window).scrollTop()>=_o&&(window.matchMedia("(min-width: 1024px)").matches||window.matchMedia("print").matches)&&_n<j&&_n>Math.ceil(j/2)?f.addClass("height-variable"):f.removeClass("height-variable")}}()}var f=b("#header-nav-primary"),g=b(".menu",f),h=b("a",g),j=parseInt(h.css("padding-top")),k=new c.ExecTimer(d);d(),b(window).on("resize.headerNavPrimary scroll.headerNavPrimary",k.exec)},c.icons=function(d){c.icons.backgrounds={};var f="string"==typeof d?b(".icon .image",d):b(".icon .image");// Create object of backround image URLs and the elements that use it.
f.each(function(){var g=b(this).css("background-image");"none"==g||(g=g.replace(/^url\("?/i,"").replace(/"?\)$/i,""),!c.icons.backgrounds.hasOwnProperty(g)&&(c.icons.backgrounds[g]={loaded:null,elements:[]}),-1===b.inArray(this,c.icons.backgrounds[g].elements)&&c.icons.backgrounds[g].elements.push(this))}),b.each(c.icons.backgrounds,function(g,h){null===h.loaded&&b.ajax(g).done(function(){h.loaded=!0,b(h.elements).closest(".icon").addClass("alt-hidden"),b(".alt",h.elements).each(function(){b(this).closest(".icon").append(b("<div class=\"tooltip\">"+this.innerHTML+"</div>")),b(this).remove()}),b(h.elements).each(function(){c.tooltips(b(this).closest(".icon"))})}).fail(h.loaded=!1)})},c.isSameTarget=function(d,f){var g=void 0,h=document.createElement("a"),j=void 0;if(f){if(!(f.protocol&&f.hostname&&f.pathname))throw new Error("Invalid value for 'currentURL'");g=f.protocol+"//"+f.hostname+f.pathname,"/"===g.substr(-1)&&(g=g.slice(0,-1))}else g=c.currentURL().baseNoTrailingSlash;return h.href=d,j=h.protocol+"//"+h.hostname+h.pathname,j="/"===h.pathname.substr(-1)?j.slice(0,-1):j,j===g},c.jumpTo=function(){function d(j){return 0<b("[name=\""+j+"\"]").length;// Target exists
}function f(){b("a[href^=\"#\"]").filter(function(){return d(b(this).attr("href").substr(1))}).off("click.jumpTo").on("click.jumpTo",function(j){g(b(this).attr("href").substr(1))})}function g(j){if(!d(j))return!1;var k={x:window.scrollX,y:window.scrollY},l=b("[name=\""+j+"\"]").first(),m=l.offset(),n={width:window.innerWidth,height:window.innerHeight},o=parseInt(l.css("font-size")),p={x:m.left-o,y:m.top-o},q=void 0;p.y>b("#header-nav-super").outerHeight()&&(p.y-=34),q=Math.abs(k.y-p.y)>n.height||Math.abs(k.x-p.x)>n.width,q?window.scrollTo(p.x,p.y):b("html, body").animate({scrollLeft:p.x,scrollTop:p.y},500)}var h=c.currentURL().hash.slice(1);d(h)&&g(h),f(),b(window).on("ajaxNavigateFinished.jumpTo",function(){g(c.currentURL().hash.slice(1)),f()}),b(window).on("popstate",function(){g(c.currentURL().hash.slice(1))})},c.keydownListener=function(){b(document).on("keydown.keydownListener",function(d){switch(d.which){// Enter
case 13:document.activeElement.click();break;// Escape
case 27:}})},c.mainMenu=function(d){function f(){0==b(d).has(document.activeElement).length&&m&&(clearInterval(m),m=null,n&&!(window.matchMedia("(min-width: 1024px)").matches||window.matchMedia("print").matches)&&l.click())}function g(){k.hasClass("visible")?(k.removeClass("visible"),m&&(clearInterval(m),m=null)):(k.addClass("visible"),m=setInterval(f,b.fx.interval))}function h(t){n=t,t?l.on("click."+d+".menu",g):l.off("click."+d+".menu")}function j(){(b(d).hasClass("fixed")||"block"==k.css("display"))&&(o=b(window).height()-l.outerHeight()+1,!b(d).hasClass("fixed")&&(o+=-b(d).position().top+b(window).scrollTop()),k.height()>o?k.height(o):k.css("height",""))}if(!b(d).length)throw new Error("Not a valid selector: "+d);var k=b(".menu",d),l=b(".toggle",d),m=void 0,n=void 0,o=void 0,p=new c.ExecTimer(function(){(window.matchMedia("(min-width: 1024px)").matches||window.matchMedia("print").matches)&&n?h(!n):(!n&&h(!n),j())}),q=new c.ExecTimer(j);b(window).on("resize."+d+".menu",p.exec),b(window).on("scroll."+d+".menu",q.exec),j(),h(!0)},c.msie=function(){if(-1!=b.inArray(c.browser.name,["MSIE","Edge"])&&b("html").addClass(c.browser.name.toLowerCase()),b("html.ie-old").length&&!Cookies.get("ie-warn-close")){var d=void 0,f=void 0;switch(c.OS){case"Windows 2000 / Server 2000":case"Windows XP":case"Windows XP Pro x64 / Windows Server 2003":var g=void 0,h=void 0;switch(c.OS){case"Windows 2000 / Server 2000":g="Windows 2000",h="2010";break;case"Windows XP":case"Windows XP Pro x64 / Windows Server 2003":g="Windows XP",h="2014";}f="<p style=\"font-size: 4em; margin-bottom:0.5em;\" aria-hidden=\"true\">&#9888;</p><p>It appears that you are using an old version of Internet Explorer on "+g+", which may cause this site to not work correctly.</p><p><b>Using "+g+" creates a <em>serious</em> security risk for you</b> as security updates for "+g+" ended in "+h+". Just by connecting your computer to the internet, you may be exposing yourself to viruses and identity theft.</p><p>Please <a href=\"https://microsoft.com/windows/\" target=\"_blank\">upgrade to your computer to a current version of Windows</a>.</p>";break;case"Windows Vista / Server 2008":f="<p style=\"font-weight:bold; font-size: 2em; margin-bottom:0.75em;\">:(</p><p>It appears that you are using a version of Internet Explorer that has been depreciated (i.e. discontinued). <b>This creates a security risk for you</b> and it may cause this site to not work correctly.</p><p>Unfortunately, the version of Windows that you are using does not support the latest version of Internet Explorer. Please either <a href=\"https://microsoft.com/windows/\" target=\"_blank\">upgrade to your computer to a newer version of Windows</a> or use another modern web browser such as <a href=\"https://www.google.com/chrome/\" target=\"_blank\">Google Chrome</a>, <a href=\"https://www.mozilla.org/firefox/\" target=\"_blank\">Mozilla Firefox</a>, or <a href=\"https://opera.com/\" target=\"_blank\">Opera</a>.";break;default:f="<p style=\"font-weight:bold; font-size: 2em; margin-bottom:0.75em;\">:(</p><p>It appears that you are using a version of Internet Explorer that has been depreciated (i.e. discontinued). <b>This creates a security risk for you</b> and it may cause this site to not work correctly.</p><p>Please <a href=\"https://microsoft.com/ie/\" target=\"_blank\">upgrade to the latest version of Internet Explorer</a>, or use another modern web browser such as <a href=\"https://www.google.com/chrome/\" target=\"_blank\">Google Chrome</a>, <a href=\"https://www.mozilla.org/firefox/\" target=\"_blank\">Mozilla Firefox</a>, or <a href=\"https://opera.com/\" target=\"_blank\">Opera</a>.";}f+="<p style=\"margin-bottom:0;\"><a href=\"#\" id=\"ie-warn-close\" onClick=\"event.preventDefault(); document.getElementById('ie-warn').remove();Cookies.set('ie-warn-close', true);\">Close</a></p>",d=b(document.createElement("div")).attr({id:"ie-warn",role:"alert"}).addClass("alert alert-warning").html(f),b("body").prepend(d)}},c.page={create:function create(d,f){if(!d.length)throw new Error("No page name provided.");c.page[d]=c.page[d]||{},c.page[d].name=d,c.page[d].navigateOff=f,c.page[d].onNavigate=function(g,h){b._data(window,"events").navigate&&b._data(window,"events").navigate[g]||b(window).on("navigate."+g,function(j){j.target.location.href!=window.url.ROOT+g&&(b(window).off("navigate."+g),"function"==typeof h&&h.call(),delete c.page[g])})}(d,f)}},c.pageCSS=function(d){d=d||"";var f=void 0,g=d||"front",h=window.url.ROOT+"assets/css/"+g+".min.css";return!!b("link[rel=\"stylesheet\"][href=\""+h+"\"]","head")},c.preloadImages=function(d){if("object"==("undefined"==typeof d?"undefined":_typeof(d)))for(var _f=0;_f<d.length;_f++)b("<img />").attr("src",d[_f]);else b("<img />").attr("src",d)},c.setTabIndicies=function(){var d=b("[tabindex]").map(function(){return b(this).attr("tabindex")}),f=Math.max.apply(Math,d),g="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, [contentEditable=true]",h=b(g).not("[tabindex]");b(h).each(function(){f++,b(this).attr("tabindex",f)}),b(g,"#header .super").each(function(){f++,b(this).attr("tabindex",f)})},c.tableGenerator=function(d,f,g){var h=void 0,j=void 0,k=void 0;if("undefined"!=typeof g){// Columns, rows and options.
if(!c.validator.isNotEmptyArray(d))throw new c.ArgumentError(d,"columns (argument 1)","tableGenerator");if(!("undefined"==typeof f||c.validator.isArray(f)))throw new c.ArgumentError(f,"rows (argument 2)","tableGenerator");if(!("undefined"==typeof g||c.validator.isObject(g)))throw new c.ArgumentError(g,"options (argument 3)","tableGenerator");k=g,j=f,h=d}else if("undefined"!=typeof f){// Rows and options. No columns.
if(!c.validator.isArray(d))throw new c.ArgumentError(d,"rows (argument 1)","tableGenerator");if(!c.validator.isObject(f))throw new c.ArgumentError(f,"options (argument 2)","tableGenerator");k=f,j=d}else// Only rows. No columns or options.
if(c.validator.isArray(d))j=d;else throw new c.ArgumentError(d,"rows (argument 1)","tableGenerator");var l=document.createElement("table"),m=document.createElement("thead"),n=document.createDocumentFragment(),o=document.createElement("tbody"),p=document.createDocumentFragment(),q=document.createElement("tr");return c.validator.isNotEmptyArray(h)&&(h.forEach(function(t){var u=document.createElement("th");u.innerHTML=t,n.appendChild(u)}),q.appendChild(n),m.appendChild(q)),l.appendChild(m),c.validator.isNotEmptyArray(j)&&(j.forEach(function(t){function u(x){return x instanceof HTMLElement?x.outerHTML:x}var w=Object.getOwnPropertyNames(t);q=document.createElement("tr"),c.validator.arraysEqual(["values"],w)||c.validator.arraysEqual(["values","href"],w,!1)?((c.validator.isNotEmptyString(t.href)||c.validator.isNumber(t.href))&&q.setAttribute("data-href",t.href),c.validator.isNotEmptyArray(h)?h.forEach(function(x){var y=document.createElement("td"),z=document.createElement("a");if(z.href=t.href,x.toLowerCase()in t.values){var A=t.values[x.toLowerCase()];z.innerHTML=u(A)}y.appendChild(z),q.appendChild(y)}):t.values.forEach(function(x){var y=document.createElement("td"),z=document.createElement("a");z.href=t.href,z.innerHTML=u(x),y.appendChild(z),q.appendChild(y)})):c.validator.isNotEmptyArray(h)?h.forEach(function(x){var y=document.createElement("td");if(x.toLowerCase()in t){var z=t[x.toLowerCase()];y.innerHTML=u(z)}q.appendChild(y)}):t.forEach(function(x){var y=document.createElement("td");y.innerHTML=u(x),q.appendChild(y)}),p.appendChild(q)}),o.appendChild(p)),l.appendChild(o),k&&"tableClass"in k&&b(l).addClass(k.tableClass),l},c.tooltips=function(d){if(c.validator.isNotEmptyArray(d))return void b(d).each(function(){c.tooltips(this)});var f="object"==("undefined"==typeof d?"undefined":_typeof(d))&&d instanceof jQuery?b(".tooltip",d):b(".tooltip");f.closest(".icon").each(function(){"object"==_typeof(b._data(this,"events"))&&b._data(this,"events").hasOwnProperty("mouseenter.tooltip")||b(this).on("mouseenter.tooltip",function(){this.mouseover=!0;var g=this;setTimeout(function(){g.mouseover&&b(".tooltip",g).fadeIn(200)},1000)}),b._data(this,"events").hasOwnProperty("mouseleave.tooltip")||b(this).on("mouseleave.tooltip",function(){this.mouseover=!1,b(".tooltip",this).fadeOut(100)})})},c.currentURL=function(){var d=window.location,f={protocol:d.protocol,hostname:d.hostname,pathname:d.pathname,hash:d.hash};return f.base=f.protocol+"//"+f.hostname+f.pathname,f.baseNoTrailingSlash="/"===f.pathname.substr(-1)?f.base.slice(0,-1):f.base,f},c.validator={arraysEqual:function arraysEqual(d,f,g){return g=!1!==g,g?d.length==f.length&&d.every(function(h,j){return h===f[j]}):d.length==f.length&&d.every(function(h,j){return-1!==f.indexOf(h)})&&f.every(function(h,j){return-1!==d.indexOf(h)})},isArray:function isArray(d){return this.isNotEmptyObject(d)&&d instanceof Array},isNotEmptyArray:function isNotEmptyArray(d){return this.isArray(d)&&0<d.length},isBoolean:function isBoolean(d){return"boolean"==typeof d},isNumber:function isNumber(d,f){return f=f||!1,f?"number"==typeof d:"number"==typeof+d},isNumeric:function isNumeric(d,f){return f=f||!1,this.isNumber(d,f)&&isFinite(d)},isObject:function isObject(d){return"object"==("undefined"==typeof d?"undefined":_typeof(d))},isNotEmptyObject:function isNotEmptyObject(d){return this.isObject(d)&&0<Object.keys(d).length},isPrimitive:function isPrimitive(d){return isString(d)||isNumber(d)||isBoolean(d)||isSymbol(d)||"undefined"==typeof d||"null"==typeof d},isNotEmptyPrimitive:function isNotEmptyPrimitive(d){return isNotEmptyString(d)||isNumeric(d)||isBoolean(d)||isSymbol(d)},isString:function isString(d){return"string"==typeof d},isNotEmptyString:function isNotEmptyString(d){return this.isString(d)&&0<d.length},isSymbol:function isSymbol(d){return"symbol"==("undefined"==typeof d?"undefined":_typeof(d))}},c});